<!DOCTYPE html>
<html lang="en">
    
        <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-120833488-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  
  gtag('config', 'UA-120833488-1');
</script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="google-site-verification" content="clMLvnrVOui94EjlU2xcbMMATYL8L1dj7MkNHRSjhxQ" />
  <meta name="theme-color" content="#3d9970">
  <meta name="description" content="l0rdcafe blog post discussing front end web performance differences between deployment platforms Github Pages, Zeit and Surge using Apache Bench command line interface to measure processing, server response, DNS waiting and connection times including iTerm2 screenshots.">

  <meta property="og:type" content="article" />
  <meta property="og:title" content="Benchmarking Performance Differences Between Deployments on Surge, Zeit and Github Pages" />
  <meta property="og:description" content="Benchmarking web performance differences between different deployment options on Surge, Zeit and Github Pages outlining which is fastest in server response, DNS lookup, request processing and connection times with Apache Bench CLI." />
  <meta property="twitter:title" content="Benchmarking Performance Differences Between Deployments on Surge, Zeit and Github Pages" />
  <meta property="twitter:description" content="Apache Bench CLI tutorial measuring performance differences between Surge, Zeit and Github Pages deployments in server response, request processing and DNS lookup." />

  <meta property="og:url" content="http://www.l0rdcafe.com" />

<meta property="og:image" content="/assets/code.png" />
<meta property="og:image:width" content="1018" />
<meta property="og:image:height" content="932" />
<meta property="article:author" content="Ismail Arafa" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@l0rdcafe" />
<meta name="twitter:image" content="/assets/code-twitter.png>" />
      
  <title>üëë Benchmarking Performance Differences Between Deployments on Surge, Zeit and Github Pages ‚Äì üëë l0rdcaf√© üëë Personal Homepage of Ismail Arafa, Freelance Front End Web Developer and Musician based in Toronto, Canada üçÅ</title>
  <script src="https://cdn.ravenjs.com/3.26.2/raven.min.js" crossorigin="anonymous"></script>
<script>
    Raven.config("https://24ee7df6392e4ed084b13c374c7add6c@sentry.io/1238172").install();
    Raven.context(function() {
        intiMyApp();
    });
</script>
  <script defer async src="https://use.fontawesome.com/releases/v5.0.10/js/all.js" integrity="sha384-slN8GvtUJGnv6ca26v8EzVaR9DC58QEwsIk9q1QXdCU8Yu8ck/tL/5szYlBbqmS+" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/cc-ss.min.css">
<link rel="stylesheet" href="/css/style.min.css">
</head>
      
    
<section class="main" itemscope itemtype="http://www.l0rdcafe.com/WebPage">
    <nav class="main__nav animated bounceInDown" itemprop="breadcrumb" itemscope itemtype="http://www.l0rdcafe.com/Brand" role="navigation">
      <img src="/assets/l0rdcafe.jpg" class="main__nav__logo" itemprop="logo" role="img" alt="l0rdcafe logo">
      <a class="main__nav__item" href="/" role="link">Home</a>
      <a class="main__nav__item" href="/#blog" role="link">Blog</a>
      <a class="main__nav__item" href="/#music" role="link">Music</a>
  </nav>

<section class="main__body">
<article role="article" class="main__body__section--post" itemscope itemtype="http://www.l0rdcafe.com/BlogPosting"><h1 itemprop="name">üí≠ Benchmarking Performance Differences Between Deployments on Surge, Zeit and Github Pages üí≠</h1>
<p itemprop="articleBody"><p>Hey fellow <span class="main__body__content__span">hackers!</span> It‚Äôs been ages but <a href="mailto:me@l0rdcafe.com" target="_blank" rel="noopener">l0rdcafe‚Äôs</a> back at it again and this time the topic of this post is performance.</p>
<p> A small while ago, I had built an app right <a href="https://l0rdcafe.github.io/khamra/" target="_blank" rel="noopener">here</a>, which given geolocation permission and a radius in kilometers would recommend nearby places to get drinks. Moreover, as I learned more and more about performance, how performant the app is was of interest to me. As a result, I decided to deploy this app to <a href="https://surge.sh/" target="_blank" rel="noopener">Surge</a> and <a href="https://zeit.co/now" target="_blank" rel="noopener">Zeit</a>, with it being already deployed to Github Pages and measure the difference in performance between all three.</p>
<p>The tool used for this measurement was the Apache Bench CLI, an infamous tool that benchmarks website performance and returns results detailing the number of requests the server can perform, the time it took for the user to get a response, the time it took for the client to establish a connection with the server, the processing time as in the time between sending the first byte of the request to the server and getting the first byte of the server response, waiting time or the time between sending the last byte of the request and getting the first byte of the response as well as other information.</p>
<p>To get consistent results, I decided to run the same command on all three servers and compare the returned results. The command run was <code>ab -c 250 -n 5000 khamra.surge.sh/</code>, the first argument denotes concurrency as in the number of requests being concurrently made to the server while the second argument denotes the total number of requests made to the server.</p>
<p><img src="surge-ab.png" alt="Surge Apache Bench CLI results"></p>
<p>The screenshot above shows the results for the Surge server.  The first part is self explanatory, detailing the server software as SurgeCDN/1.2.0, the server hostname as khamra.surge.sh and the server port as 80. The document length follows at 1939 bytes. The time taken for tests is 55.845 seconds and it has 55 failed requests. The total transferred bytes are 11177506 bytes and the transferred HTML is 9594405 bytes. Now onto the important parts, the Surge server can process 89.53 requests per second. The first time per request outlines how much time it took for the server to process 250 concurrent requests, which is at 2792.228 ms and the second time per request denotes how much time it took for the browser to get the index.html, which is at 11.169 ms. Next up are connection times, the Connect values provide the smallest and largest amount of time it took for the client to establish a connection with the server through a DNS lookup, which are 226 ms and 41493 ms respectively, as well as a mean of 1405 ms and standard deviation of 2684.6 ms. Secondly, it provides min, max, mean and standard deviation values for the amount of time between sending the first byte of the request and receiving the first byte of the response, which are 229 ms, 15892 ms, 862 ms and 1054.5 ms respectively. Thirdly, the waiting time values defining the amount of time between sending the last byte of the request and receiving the first byte of the response, with its min value being 228 ms, its max value being 15891 ms, its mean being 860 ms and its standard deviation being 1054.6 ms. Lastly, the total values combine the above into a min value of 459 ms, a max value of 43283 ms, a mean of 2267 ms and a standard deviation of 2932.5 ms. Means are often skewed by outliers, and so 95% of the requests served within a certain time was 5699 ms, which is more accurate than the 100% of requests served in 43283 ms.</p>
<p><img src="ghpages-ab.png" alt="Github Pages Apache Bench CLI results"></p>
<p>The benchmarking for the Github Pages then followed running the same command as the one ran on the Surge server. The results show a similar server port of 80, concurrency level of 250 and complete requests of 5000, but a server software of Github.com, and server hostname of l0rdcafe.github.io. The time taken for tests is longer than Surge‚Äôs at 62.66 seconds. The Github Pages unlike the Surge server didn‚Äôt have any failed requests and the total transferred was less at 3602927 bytes and less transferred HTML at 890000 bytes. But the requests per second is less at 79.80 seconds, and its time per concurrent requests is higher at 3133.008 ms as well as the time taken for the browser to get index.html is slightly more at 12.532 ms. The connection times show a remarkable difference where the Connect times‚Äô min, max, mean and standard values are almost better than that of Surge‚Äôs at 96 ms min value, 42069 ms max value which is in fact larger, 1328 ms mean value and standard deviation of 1913.6 ms. The Processing times also denote an improvement on the min value but worse max, mean standard deviation values, with min value being 96 ms, mean value being 874 ms, standard deviation value being 2623.1 ms and max value being 58311 ms. Waiting times show an improvement on min value, while max, mean and standard deviation values are worse, with min being 197 ms, max is 58310 ms, mean is 873 ms and standard deviation is 2623.1 ms. Lastly, Total times‚Äô min and mean values improved while max and standard deviation were worse off, min value being 197 ms, mean value being 2201 ms, standard deviation being 3234.3 ms and max value being 58444 ms. 95% of the requests took 6229 ms, which is worse when compared to the Surge server.</p>
<p><img src="zeit-ab.png" alt="Zeit Apache Bench CLI results"></p>
<p>When testing the Zeit server, something peculiar happened, the connection was reset by peer and the total number of completed request peaked at 1661 instead of meeting the argument value of 5000 requests. This prevented Apache Bench from benchmarking the server as Zeit timed out the connection possibly to avoid server request overload. By limiting the number of requests made to a Zeit server, it effectively takes Zeit out of the running as far as web performance.</p>
<p>To wrap up, after the rigorous testing of the different servers I can conclude that Surge and Github Pages‚Äô servers are more performant than Zeit‚Äôs and that in the best case scenario Github Pages is more performant than Surge. Surge though, according to the benchmarking results is on average slightly more performant than Github Pages and although the differences are small and each have got their own benefits and downsides, when scaling larger and as the numbers of requests increase, Surge‚Äôs worst case scenarios are still better than Github Pages‚Äô worst cases.</p>
</p>
<small itemprop="datePublished">July 05, 2018</small>
</article>
</section>
    <footer class="footer">
        <div class="footer__body">
          <h4>Made by üëë l0rdcafe üëë</h4>
          <nav class="footer__social">
            <a class="social__item" href="mailto:me@l0rdcafe.com" role="link" aria-label="Email l0rdcafe"><i class="far fa-envelope fa-lg"></i></a>
            <a class="social__item" href="https://github.com/l0rdcafe/" role="link" aria-label="l0rdcafe's Github Profile"><i class="fab fa-github fa-lg"></i></a>
            <a class="social__item" href="https://soundcloud.com/the-lords-blueprints" role="link" aria-label="l0rdcafe's Soundcloud Profile"><i class="fab fa-soundcloud fa-lg"></i></a>
            <a class="social__item" href="https://twitter.com/l0rdcafe" role="link" aria-label="l0rdcafe's Twitter Profile"><i class="fab fa-twitter fa-lg"></i></a>
          </nav>
        </div>
      </footer>
</section>
</html>
